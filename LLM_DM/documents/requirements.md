# FIDD-Bench 需求文档

## 1. 项目目标 (Project Objective)

**FIDD-Bench (Flexible & Intelligent Data Generator for Data Mining Benchmarking)** 旨在开发一个基于大语言模型 (LLM) 的智能合成数据生成系统。

核心目标包括：
1.  **自然语言驱动**：允许用户通过自然语言描述（如“生成一个模拟周末超市销售的数据集”）来定义数据特征。
2.  **高质量与可控性**：生成符合特定统计分布（如长尾分布）和结构约束的高质量合成数据。
3.  **基准测试自动化**：自动评估主流模式挖掘算法（如 SPMF 库中的算法、Choco-Mining）在生成数据上的性能（运行时间、内存、准确率）。
4.  **解决痛点**：解决现有基准数据集陈旧、缺乏基准真值 (Ground Truth) 以及难以验证算法召回率的问题。

## 2. 功能需求 (Functional Requirements)

### 2.1 数据生成模块
*   **F1. 自然语言解析**：系统需能接收用户的自然语言指令，并利用 LLM 将其转换为结构化的数据生成参数（JSON 格式）。
*   **F2. 基础事务数据生成**：
    *   支持定义事务数量 ($|T|$)。
    *   支持定义项目总数 ($|I|$)。
    *   支持定义数据集密度 (Density) 和稀疏度。
    *   支持生成二进制矩阵或项集列表格式。
*   **F3. 统计分布控制**：支持多种统计分布（如指数分布、正态分布、Zipf 分布）来模拟真实世界数据的复杂性。
*   **F4. 模式注入 (Pattern Injection)**：
    *   允许在随机噪声数据中“埋藏”特定的频繁项集（Ground Truth）。
    *   支持设置注入模式的支持度 (Support) 阈值。
*   **F5. 序列数据支持 (扩展)**：支持生成带有时间戳或顺序约束的序列数据 (Sequence Data)。

### 2.2 基准测试模块
*   **F6. 算法集成**：集成 SPMF (Java) 和 Choco-Mining (Java) 挖掘库。
*   **F7. 自动执行**：能够自动调用上述算法对生成的数据集进行挖掘。
*   **F8. 格式转换**：自动将生成的数据转换为 SPMF 标准格式 (.spmf) 或 Choco-Mining 所需格式。

### 2.3 评估与报告模块
*   **F9. 性能指标计算**：记录并报告算法的运行时间、内存消耗。
*   **F10. 准确性验证**：对比挖掘结果与注入的基准真值 (Ground Truth)，计算准确率 (Precision) 和召回率 (Recall)。
*   **F11. 可视化报告**：生成包含图表（如 Matplotlib 绘制）的实验报告。

## 3. 非功能需求 (Non-Functional Requirements)

*   **NF1. 性能 (Performance)**：数据生成核心应使用 Numpy/Scipy 等高效库，避免使用 LLM 逐行生成数据，以确保在大规模数据（如 10k+ 事务）下的生成速度。
*   **NF2. 可扩展性 (Extensibility)**：架构设计应允许轻松添加新的挖掘算法或新的数据分布类型。
*   **NF3. 易用性 (Usability)**：提供清晰的 CLI (命令行界面) 或简单的 Web UI，降低用户使用门槛。
*   **NF4. 兼容性 (Compatibility)**：生成的 .spmf 文件需严格符合 SPMF 官方标准。
*   **NF5. 稳定性 (Stability)**：系统应能处理 LLM 输出的不确定性，具备参数校验和容错机制。

## 4. 目标用户 (Target Users)

*   **数据挖掘研究人员**：需要定制化数据集来测试新算法性能的学者。
*   **计算机专业学生**：进行 TER 项目或学习模式挖掘课程的学生。
*   **数据科学家**：需要合成数据进行模型预训练或验证的从业者。

## 5. 使用场景 (Use Cases)

*   **UC1. 算法压力测试**：用户要求生成一个极度稠密的数据集，测试 Apriori 算法在极端情况下的内存表现。
*   **UC2. 验证算法召回率**：用户生成一个包含 5 个特定隐藏模式的数据集，运行 FP-Growth 算法，检查这 5 个模式是否都被成功挖掘出来。
*   **UC3. 模拟特定行业数据**：用户描述“医疗处方记录，大部分人只开 1-2 种药，但特定季节有流感药物组合”，系统生成对应分布的数据。

## 6. 业务流程 (Business Flow)

1.  **用户输入**：用户通过界面输入自然语言描述（例如：“生成 1000 条交易数据，模拟咖啡店销售，周末有明显的‘咖啡+蛋糕’组合”）。
2.  **LLM 解析**：LLM 接收 Prompt，分析描述，输出 JSON 配置文件（包含事务数、分布参数、注入模式定义）。
3.  **参数校验**：系统后端校验 JSON 参数的合法性。
4.  **数据生成**：Python 生成引擎根据参数，利用 Numpy 生成数值矩阵，并注入特定模式。
5.  **文件输出**：将矩阵转换为 `.spmf` 文件保存。
6.  **基准测试 (可选)**：系统自动调用 SPMF jar 包运行指定算法。
7.  **结果反馈**：系统输出生成的数据文件路径及基准测试报告（运行时间、准确率）。
